<!DOCTYPE html>
<html>
<head>
    <title>Freight Estimator</title>
</head>
<body>
    <h1>Freight Estimator</h1>
    <form method="POST">
        <label>Shipment Type:</label>
        <select name="shipment_type" required>
            {% for type in shipment_types %}
                <option value="{{ type }}">{{ type }}</option>
            {% endfor %}
        </select><br><br>

        <label>Origin (City):</label>
        <input type="text" name="origin" required><br><br>

        <label>Destination:</label>
        <select name="destination" required>
            {% for dest in known_destinations %}
                <option value="{{ dest }}">{{ dest }}</option>
            {% endfor %}
        </select><br><br>

        <button type="submit">Estimate</button>
    </form>

    {% if quote %}
        <h2>Result:</h2>
        {% if quote.error %}
            <p>{{ quote.error }}</p>
        {% else %}
            <p><strong>Origin:</strong> {{ quote.origin }}</p>
            <p><strong>Destination:</strong> {{ quote.destination }}</p>
            <p><strong>Shipment Type:</strong> {{ quote.shipment_type }}</p>
            <p><strong>Estimated Cost:</strong> ${{ quote.quote }}</p>
            <p><strong>Distance:</strong> {{ quote.distance }} miles</p>
            {{ route_map|safe }}
        {% endif %}
    {% endif %}
</body>
</html>
